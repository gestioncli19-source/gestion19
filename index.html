<!-- LOGIN MODERNO CON TRANSICIÓN -->
<div id="loginForm" style="display:flex; justify-content:center; align-items:center; height:100vh; background:#121212; transition: background 0.3s;">
  <div id="loginBox" style="background:linear-gradient(145deg,#1f1f1f,#2c2c2c); padding:40px 30px; border-radius:20px; box-shadow: 0 10px 25px rgba(0,0,0,0.6); width:320px; text-align:center; color:#fff; font-family: 'Montserrat', sans-serif; opacity:1; transition: opacity 0.5s;">
    <h2 style="margin-bottom:25px; font-weight:700; font-size:24px; letter-spacing:1px;">Inicia sesión</h2>
    <input type="email" id="email" placeholder="Correo electrónico" style="width:100%; padding:12px 15px; margin-bottom:15px; border-radius:12px; border:none; outline:none; font-size:14px; background:#2c2c2c; color:#fff; box-shadow: inset 0 2px 5px rgba(0,0,0,0.4);">
    <input type="password" id="password" placeholder="Contraseña" style="width:100%; padding:12px 15px; margin-bottom:20px; border-radius:12px; border:none; outline:none; font-size:14px; background:#2c2c2c; color:#fff; box-shadow: inset 0 2px 5px rgba(0,0,0,0.4);">
    <button onclick="login()" style="width:100%; padding:12px 0; border:none; border-radius:12px; background:linear-gradient(90deg,#00b4ff,#0077aa); color:#fff; font-weight:700; font-size:16px; cursor:pointer; transition:0.3s;">Entrar</button>
    <p style="margin-top:15px; font-size:12px; color:#aaa;">¿Olvidaste tu contraseña? Contacta al administrador</p>
  </div>
</div>

<script>
const loginFormDiv = document.getElementById('loginForm');
const loginBox = document.getElementById('loginBox');

btnToggleMode.addEventListener('click', ()=>{
  if(document.body.classList.contains('dark')){
    loginBox.style.background='linear-gradient(145deg,#f0f0f0,#e0e0e0)';
    loginBox.querySelectorAll('input').forEach(i=>{i.style.background='#fff'; i.style.color='#222';});
    loginFormDiv.style.background='#f5f5f5';
  } else {
    loginBox.style.background='linear-gradient(145deg,#1f1f1f,#2c2c2c)';
    loginBox.querySelectorAll('input').forEach(i=>{i.style.background='#2c2c2c'; i.style.color='#fff';});
    loginFormDiv.style.background='#121212';
  }
});

function login(){
  const email=document.getElementById('email').value;
  const pass=document.getElementById('password').value;
  auth.signInWithEmailAndPassword(email, pass)
    .then(()=>{
      // Animación de fade out login
      loginBox.style.opacity='0';
      setTimeout(()=>{
        loginFormDiv.style.display='none';
        document.getElementById('app').style.display='block';
        document.getElementById('app').style.opacity='0';
        setTimeout(()=>{ document.getElementById('app').style.opacity='1'; },50);
        mostrarRegistros();
      },500);
    })
    .catch(e=>alert('Error de login: '+e.message));
}
</script>
